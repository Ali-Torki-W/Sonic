// ===========================================
// EXPLORE FEED - Enhanced Cosmic Design
// ===========================================

// VARIABLES
$mobile: 768px;
$tablet: 1024px;

// IMPROVEMENT: Enhanced color palette for better contrast and visual appeal
$primary-blue: #00e0ff;
$primary-purple: #a855f7;
$accent-purple: #8b5cf6;
$accent-blue: #6474ff;
$dark-bg: #0f1525;
$medium-bg: #1a1f30;
$light-bg: rgba(35, 40, 55, 0.95);
$text-primary: #ffffff;
$text-secondary: rgba(255, 255, 255, 0.92);
$text-muted: rgba(255, 255, 255, 0.68);
$text-placeholder: rgba(255, 255, 255, 0.5);

// Cosmic glow colors
$glow-blue: rgba(0, 224, 255, 0.6);
$glow-purple: rgba(168, 85, 247, 0.6);
$glow-accent: rgba(100, 116, 255, 0.6);

// Gradient definitions
$gradient-primary: linear-gradient(135deg, $primary-blue 0%, $primary-purple 100%);
$gradient-secondary: linear-gradient(135deg, $accent-blue 0%, $accent-purple 100%);
$gradient-card: linear-gradient(135deg, rgba(35, 40, 55, 0.95) 0%, rgba(40, 45, 60, 0.98) 100%);

// BASE STYLES
.feed {
    position: relative;
    padding: 32px 0;
    z-index: 2;
    min-height: calc(100svh - var(--topbar-h) - 160px);
    width: 100%;
    box-sizing: border-box;
    background: linear-gradient(180deg,
            rgba(15, 20, 35, 0.1) 0%,
            rgba(15, 20, 35, 0.05) 100%);

    // Cosmic top border with enhanced glow
    &::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        background: linear-gradient(90deg,
                transparent 0%,
                $glow-blue 30%,
                $glow-purple 70%,
                transparent 100%);
        box-shadow:
            0 0 25px rgba(0, 224, 255, 0.3),
            0 0 15px rgba(168, 85, 247, 0.2);
        z-index: 1;
    }
}

// HEADER SECTION - Enhanced Cosmic Glass Panel
.feed__header {
    background: linear-gradient(135deg,
            rgba(25, 30, 45, 0.96) 0%,
            rgba(20, 25, 40, 0.98) 100%);
    backdrop-filter: blur(var(--glass-blur)) saturate(200%);
    -webkit-backdrop-filter: blur(var(--glass-blur)) saturate(200%);
    border: 1px solid rgba(100, 116, 255, 0.4);
    border-radius: var(--radius-xl);
    padding: 36px;
    margin-bottom: 36px;
    width: 100%;
    box-sizing: border-box;
    position: relative;
    overflow: hidden;
    box-shadow:
        var(--shadow),
        0 8px 32px rgba(0, 0, 0, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);

    // Nebula effect - enhanced
    &::after {
        content: '';
        position: absolute;
        inset: 0;
        background:
            radial-gradient(circle at 20% 30%, rgba(100, 116, 255, 0.15) 0%, transparent 60%),
            radial-gradient(circle at 80% 70%, rgba(0, 224, 255, 0.12) 0%, transparent 60%),
            radial-gradient(circle at 40% 80%, rgba(168, 85, 247, 0.1) 0%, transparent 60%);
        pointer-events: none;
        z-index: -1;
        opacity: 0.6;
        animation: nebula-pulse 20s ease-in-out infinite;
    }

    h1 {
        font-family: 'Orbitron', sans-serif;
        font-size: 2.8rem;
        font-weight: 800;
        background: linear-gradient(135deg,
                $accent-blue 0%,
                $primary-blue 40%,
                $primary-purple 80%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 32px;
        text-shadow:
            0 0 40px rgba(100, 116, 255, 0.4),
            0 0 20px rgba(0, 224, 255, 0.3),
            0 0 10px rgba(168, 85, 247, 0.2);
        letter-spacing: 1.5px;
        line-height: 1.1;
        position: relative;
        display: inline-block;

        &::after {
            content: '';
            position: absolute;
            bottom: -12px;
            left: 0;
            width: 100%;
            height: 3px;
            background: $gradient-primary;
            border-radius: 2px;
            opacity: 0.6;
        }
    }
}

@keyframes nebula-pulse {

    0%,
    100% {
        opacity: 0.6;
        transform: scale(1);
    }

    50% {
        opacity: 0.8;
        transform: scale(1.02);
    }
}

// BUTTON MIXINS - Enhanced App Shell Style
@mixin cosmic-button-base {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    height: 52px;
    padding: 0 26px;
    border-radius: var(--radius-lg);
    font-weight: 600;
    font-size: 15px;
    text-decoration: none;
    cursor: pointer;
    user-select: none;
    border: 1.5px solid transparent;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
    letter-spacing: 0.5px;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
    font-family: 'Orbitron', 'Exo 2', sans-serif;
    white-space: nowrap;
    flex-shrink: 0;
    box-sizing: border-box;
    transform-style: preserve-3d;
    perspective: 1000px;

    &::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 1px;
        background: linear-gradient(90deg,
                transparent 0%,
                rgba(255, 255, 255, 0.3) 50%,
                transparent 100%);
        opacity: 0.5;
    }

    &:hover {
        transform: translateY(-2px) scale(1.02);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.25);
    }

    &:active {
        transform: translateY(0) scale(0.98);
        transition-duration: 0.1s;
    }
}

@mixin cosmic-ghost {
    @include cosmic-button-base;
    color: $text-primary;
    background: rgba(40, 45, 65, 0.85);
    border: 1.5px solid rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);

    &:hover {
        background: rgba(50, 55, 75, 0.9);
        border-color: rgba($primary-blue, 0.5);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3),
            0 0 20px rgba($primary-blue, 0.15);
    }
}

@mixin cosmic-solid {
    @include cosmic-button-base;
    color: $text-primary;
    background: $gradient-secondary;
    border: none;
    box-shadow:
        0 10px 40px rgba(59, 130, 246, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.3),
        inset 0 -1px 0 rgba(0, 0, 0, 0.2);
    font-weight: 700;
    letter-spacing: 0.8px;
    text-transform: uppercase;
    font-size: 14px;

    &:hover {
        background: linear-gradient(135deg,
                lighten($accent-blue, 5%) 0%,
                lighten($accent-purple, 5%) 100%);
        box-shadow:
            0 12px 45px rgba(59, 130, 246, 0.5),
            inset 0 1px 0 rgba(255, 255, 255, 0.4),
            inset 0 -1px 0 rgba(0, 0, 0, 0.2),
            0 0 25px rgba($primary-blue, 0.2);
        transform: translateY(-3px) scale(1.03);
    }
}

// FILTERS SECTION - Enhanced Desktop
.feed__filters {
    display: flex;
    gap: 18px;
    margin-bottom: 28px;
    flex-wrap: wrap;
    align-items: center;
    width: 100%;

    input[type="text"] {
        flex: 1;
        min-width: 320px;
        height: 56px;
        padding: 0 24px;
        border-radius: var(--radius-xl);
        border: 2px solid rgba($primary-blue, 0.4);
        background: rgba(20, 25, 40, 0.9);
        color: $text-primary;
        font-family: 'Exo 2', sans-serif;
        font-size: 16px;
        font-weight: 500;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        backdrop-filter: blur(15px);
        -webkit-backdrop-filter: blur(15px);
        box-shadow:
            inset 0 2px 8px rgba(0, 0, 0, 0.3),
            0 4px 12px rgba(0, 0, 0, 0.15);
        line-height: 1.5;
        letter-spacing: 0.3px;

        &::placeholder {
            color: $text-placeholder;
            font-weight: 400;
            letter-spacing: 0.5px;
        }

        &:focus {
            outline: none;
            border-color: $primary-blue;
            box-shadow:
                0 0 0 4px rgba($primary-blue, 0.25),
                inset 0 2px 8px rgba(0, 0, 0, 0.4),
                0 8px 32px rgba(0, 0, 0, 0.25);
            background: rgba(25, 30, 45, 0.95);
            transform: translateY(-1px);
        }

        &:hover:not(:focus) {
            border-color: rgba($primary-blue, 0.6);
            background: rgba(25, 30, 45, 0.92);
            box-shadow:
                inset 0 2px 8px rgba(0, 0, 0, 0.35),
                0 6px 20px rgba(0, 0, 0, 0.2);
        }
    }

    button {
        @include cosmic-ghost;
        height: 56px;
        padding: 0 24px;
        font-size: 15px;
        min-width: 130px;

        &:nth-child(2) {
            background: rgba($accent-blue, 0.2);
            border-color: rgba($accent-blue, 0.4);

            &::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                height: 3px;
                background: $gradient-primary;
                opacity: 0.8;
                border-radius: var(--radius-lg) var(--radius-lg) 0 0;
            }

            &:hover {
                background: rgba($accent-blue, 0.3);
                border-color: rgba($accent-blue, 0.6);
            }
        }

        &:last-child {
            @include cosmic-solid;
            height: 56px;
            padding: 0 24px;
            font-size: 15px;
            min-width: 130px;
        }
    }
}

// TYPE FILTERS - Enhanced Desktop
.feed__types {
    display: flex;
    gap: 14px;
    margin-bottom: 28px;
    flex-wrap: wrap;

    button {
        padding: 14px 24px;
        border-radius: var(--radius-xl);
        background: rgba(40, 45, 65, 0.8);
        border: 1.5px solid rgba(255, 255, 255, 0.15);
        color: $text-secondary;
        font-family: 'Exo 2', sans-serif;
        font-size: 14px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        text-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);
        letter-spacing: 0.4px;
        min-width: 110px;
        text-align: center;
        position: relative;
        overflow: hidden;

        &::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg,
                    transparent 0%,
                    rgba(255, 255, 255, 0.3) 50%,
                    transparent 100%);
            opacity: 0.4;
        }

        &:hover {
            background: rgba(50, 55, 75, 0.9);
            border-color: rgba($primary-blue, 0.4);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
            transform: translateY(-2px);
        }

        &:active,
        &.active {
            background: $gradient-secondary;
            border-color: transparent;
            color: $text-primary;
            font-weight: 600;
            box-shadow:
                0 8px 25px rgba(139, 92, 246, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            transform: translateY(-1px);
        }

        &:first-child {
            background: linear-gradient(135deg,
                    rgba($primary-blue, 0.18) 0%,
                    rgba($accent-purple, 0.18) 100%);
            border-color: rgba($primary-blue, 0.4);
            font-weight: 600;
            color: $text-primary;

            &:hover {
                background: linear-gradient(135deg,
                        rgba($primary-blue, 0.25) 0%,
                        rgba($accent-purple, 0.25) 100%);
            }

            &.active {
                background: $gradient-primary;
                border-color: transparent;
            }
        }
    }
}

// TAGS SECTION - Enhanced Desktop
.feed__tags {
    display: flex;
    gap: 14px;
    margin-bottom: 28px;
    flex-wrap: wrap;
    align-items: center;

    input[type="text"] {
        width: 260px;
        height: 52px;
        padding: 0 20px;
        border-radius: var(--radius-lg);
        border: 1.5px solid rgba($primary-purple, 0.4);
        background: rgba(20, 25, 40, 0.9);
        color: $text-primary;
        font-family: 'Exo 2', sans-serif;
        font-size: 14px;
        font-weight: 500;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        line-height: 1.5;

        &::placeholder {
            color: $text-placeholder;
        }

        &:focus {
            outline: none;
            border-color: $primary-purple;
            box-shadow: 0 0 0 4px rgba($primary-purple, 0.2);
            background: rgba(25, 30, 45, 0.95);
            transform: translateY(-1px);
        }

        &:hover:not(:focus) {
            border-color: rgba($primary-purple, 0.6);
            background: rgba(25, 30, 45, 0.92);
        }
    }

    >button {
        @include cosmic-solid;
        height: 52px;
        padding: 0 20px;
        font-size: 14px;
        min-width: 90px;
        background: $gradient-primary;
    }

    .feed__taglist {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        margin-left: 10px;

        button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 18px;
            border-radius: var(--radius-lg);
            background: linear-gradient(135deg,
                    rgba($primary-blue, 0.15) 0%,
                    rgba($primary-purple, 0.15) 100%);
            border: 1.5px solid rgba($primary-purple, 0.3);
            color: $text-secondary;
            font-family: 'Exo 2', sans-serif;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);
            position: relative;
            overflow: hidden;

            &::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                height: 1px;
                background: linear-gradient(90deg,
                        transparent 0%,
                        rgba($primary-purple, 0.5) 50%,
                        transparent 100%);
                opacity: 0.6;
            }

            &:hover {
                background: linear-gradient(135deg,
                        rgba($primary-blue, 0.25) 0%,
                        rgba($primary-purple, 0.25) 100%);
                border-color: rgba($primary-blue, 0.6);
                box-shadow: 0 6px 20px rgba($primary-purple, 0.25);
                transform: translateY(-2px);
            }

            &::after {
                content: 'âœ•';
                font-size: 13px;
                color: rgba(255, 255, 255, 0.6);
                transition: all 0.3s ease;
                margin-left: 6px;
                font-weight: 600;
            }

            &:hover::after {
                color: rgba(255, 255, 255, 0.9);
                transform: rotate(90deg);
            }
        }
    }
}

// ERROR MESSAGE - Enhanced Style
.feed__error {
    background: linear-gradient(135deg,
            rgba(220, 38, 38, 0.15) 0%,
            rgba(239, 68, 68, 0.1) 100%);
    border: 1.5px solid rgba(239, 68, 68, 0.4);
    border-radius: var(--radius-xl);
    padding: 24px 28px;
    margin: 28px 0;
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    position: relative;
    overflow: hidden;
    box-shadow: 0 8px 32px rgba(239, 68, 68, 0.1);

    &::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        background: linear-gradient(90deg,
                transparent 0%,
                rgba(239, 68, 68, 0.7) 50%,
                transparent 100%);
        box-shadow: 0 0 20px rgba(239, 68, 68, 0.4);
    }

    p {
        color: $text-primary;
        font-family: 'Exo 2', sans-serif;
        margin: 0 0 10px 0;
        line-height: 1.6;
        font-size: 15px;

        &:last-child {
            margin-bottom: 0;
        }

        strong {
            color: #f87171;
            font-weight: 700;
        }

        small {
            color: rgba(255, 255, 255, 0.7);
            font-size: 14px;
            font-weight: 400;
        }
    }
}

// LOADING & EMPTY STATES
.feed>p {
    color: $text-secondary;
    font-family: 'Exo 2', sans-serif;
    font-size: 17px;
    text-align: center;
    padding: 60px 0;
    text-shadow: 0 1px 4px rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(5px);
    -webkit-backdrop-filter: blur(5px);
    border-radius: var(--radius-lg);
    background: rgba(30, 35, 50, 0.4);
    border: 1px solid rgba(255, 255, 255, 0.1);
    margin: 20px 0;
}

// POSTS LIST - Enhanced Grid
.feed__list {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
    gap: 32px;
    margin-bottom: 48px;
}

// INDIVIDUAL POST - Enhanced Cosmic Card
.post {
    background: $gradient-card;
    backdrop-filter: blur(var(--glass-blur));
    -webkit-backdrop-filter: blur(var(--glass-blur));
    border: 1.5px solid rgba($primary-blue, 0.2);
    border-radius: var(--radius-xl);
    padding: 32px;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
    height: 100%;
    display: flex;
    flex-direction: column;
    box-shadow:
        var(--shadow-soft),
        0 8px 32px rgba(0, 0, 0, 0.15);

    &::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        background: linear-gradient(90deg,
                transparent 0%,
                rgba($primary-blue, 0.5) 50%,
                transparent 100%);
        box-shadow: 0 0 20px rgba($primary-blue, 0.3);
        z-index: 1;
    }

    // Subtle corner accents
    &::after {
        content: '';
        position: absolute;
        top: 12px;
        left: 12px;
        right: 12px;
        bottom: 12px;
        border: 1px solid rgba($primary-blue, 0.05);
        border-radius: calc(var(--radius-xl) - 4px);
        pointer-events: none;
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    &:hover {
        border-color: rgba($primary-blue, 0.4);
        box-shadow:
            var(--shadow),
            0 16px 48px rgba(0, 0, 0, 0.3),
            0 0 50px rgba($primary-blue, 0.15);
        transform: translateY(-6px) scale(1.01);

        &::after {
            opacity: 1;
        }

        // Enhanced title hover effect
        h3 a {
            color: $primary-blue;
            text-decoration: none;

            &::before {
                transform: scaleX(1);
                opacity: 1;
            }
        }
    }

    h3 {
        margin: 0 0 18px 0;
        font-family: 'Orbitron', sans-serif;
        font-size: 1.6rem;
        font-weight: 700;
        line-height: 1.35;
        position: relative;
        z-index: 2;

        a {
            color: $text-primary;
            text-decoration: none;
            background: none;
            -webkit-text-fill-color: initial;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: inline-block;
            position: relative;
            text-shadow: 0 1px 5px rgba(0, 0, 0, 0.6);
            letter-spacing: 0.2px;

            // Enhanced underline effect
            &::before {
                content: '';
                position: absolute;
                bottom: -4px;
                left: 0;
                width: 100%;
                height: 2px;
                background: $gradient-primary;
                transform: scaleX(0);
                transform-origin: left;
                transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
                opacity: 0.7;
                border-radius: 1px;
                box-shadow: 0 0 10px rgba($primary-blue, 0.5);
            }

            &:hover {
                color: $primary-blue;
                text-shadow: 0 0 15px rgba($primary-blue, 0.4);
                transform: translateX(4px);

                &::before {
                    transform: scaleX(1);
                    opacity: 1;
                }
            }

            // Focus state for accessibility
            &:focus-visible {
                outline: 2px solid $primary-blue;
                outline-offset: 6px;
                border-radius: 6px;
                color: $primary-blue;
            }
        }
    }

    .post__meta {
        color: $text-muted;
        font-family: 'Exo 2', sans-serif;
        font-size: 14px;
        margin: 0 0 20px 0;
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        align-items: center;

        span {
            &:nth-child(1) {
                background: linear-gradient(135deg,
                        rgba($accent-blue, 0.25) 0%,
                        rgba($accent-purple, 0.25) 100%);
                border: 1.5px solid rgba($accent-purple, 0.35);
                padding: 6px 14px;
                border-radius: 20px;
                font-weight: 600;
                color: $text-primary;
                font-size: 13px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                backdrop-filter: blur(5px);
                -webkit-backdrop-filter: blur(5px);
            }

            &:nth-child(3) {
                color: $primary-blue;
                font-weight: 600;
                font-size: 14px;
            }

            &:nth-child(5) {
                color: rgba(255, 255, 255, 0.6);
                font-size: 13px;
                font-style: italic;
            }
        }
    }

    .post__body {
        color: $text-secondary;
        font-family: 'Exo 2', sans-serif;
        font-size: 15px;
        line-height: 1.7;
        margin: 0 0 22px 0;
        flex-grow: 1;
        text-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);
        letter-spacing: 0.1px;
    }

    .post__tags {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin: 0 0 20px 0;

        span {
            color: $text-primary;
            font-family: 'Exo 2', sans-serif;
            font-size: 13px;
            font-weight: 600;
            padding: 7px 14px;
            background: linear-gradient(135deg,
                    rgba($primary-purple, 0.18) 0%,
                    rgba($accent-purple, 0.18) 100%);
            border: 1.5px solid rgba($primary-purple, 0.3);
            border-radius: 20px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            cursor: pointer;
            letter-spacing: 0.3px;

            &:hover {
                background: linear-gradient(135deg,
                        rgba($primary-purple, 0.3) 0%,
                        rgba($accent-purple, 0.3) 100%);
                border-color: rgba($primary-blue, 0.5);
                box-shadow: 0 4px 15px rgba($primary-purple, 0.25);
                transform: translateY(-2px);
            }
        }
    }

    // ALL STATS WITH ICONS - Enhanced
    .post__stats {
        color: $text-muted;
        font-family: 'Exo 2', sans-serif;
        font-size: 14px;
        margin: 0;
        display: flex;
        gap: 24px;
        align-items: center;
        padding-top: 16px;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        position: relative;

        // Enhanced vertical divider
        &::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg,
                    transparent 0%,
                    rgba($primary-blue, 0.2) 50%,
                    transparent 100%);
            transform: translateY(-50%);
        }

        .post__stat-item {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            color: $text-secondary;
            transition: all 0.3s ease;
            padding: 4px 8px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.05);

            // ALL likes have heart icons
            &.post__likes {
                &::before {
                    content: 'â¤ï¸';
                    font-size: 16px;
                    filter: drop-shadow(0 0 8px rgba(255, 105, 180, 0.7));
                    transition: transform 0.3s ease;
                }

                &:hover::before {
                    animation: heart-beat 0.6s ease;
                }
            }

            &.post__comments {
                &::before {
                    content: 'ðŸ’¬';
                    font-size: 16px;
                    filter: drop-shadow(0 0 6px rgba($primary-blue, 0.5));
                }

                color: $primary-blue;
            }

            &.post__views {
                &::before {
                    content: 'ðŸ‘ï¸';
                    font-size: 16px;
                    filter: drop-shadow(0 0 6px rgba($accent-blue, 0.5));
                }

                color: $accent-blue;
            }

            &.post__shares {
                &::before {
                    content: 'â†ªï¸';
                    font-size: 16px;
                    filter: drop-shadow(0 0 6px rgba($primary-purple, 0.5));
                }

                color: $primary-purple;
            }

            &:hover {
                background: rgba(255, 255, 255, 0.1);
                transform: translateY(-1px);
            }
        }
    }
}

@keyframes heart-beat {

    0%,
    100% {
        transform: scale(1);
    }

    25% {
        transform: scale(1.2);
    }

    50% {
        transform: scale(0.9);
    }

    75% {
        transform: scale(1.1);
    }
}

// LOAD MORE BUTTON - Enhanced Style
.feed__list+button {
    @include cosmic-solid;
    display: block;
    margin: 48px auto;
    padding: 0 40px;
    height: 60px;
    font-size: 16px;
    position: relative;
    overflow: visible;
    min-width: 220px;
    background: $gradient-primary;
    letter-spacing: 1px;

    &::after {
        content: '';
        position: absolute;
        inset: -3px;
        border-radius: inherit;
        background: $gradient-primary;
        z-index: -1;
        opacity: 0.4;
        filter: blur(15px);
        transition: all 0.4s ease;
    }

    &:hover {
        &::after {
            opacity: 0.7;
            filter: blur(20px);
        }
    }

    &:disabled {
        opacity: 0.5;
        cursor: not-allowed;

        &:hover {
            transform: none;
            box-shadow:
                0 8px 32px rgba(59, 130, 246, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.5);
        }
    }
}

// ===========================================
// MOBILE VIEW - Optimized for Touch with Big Search Bar
// ===========================================
@media (max-width: #{$mobile - 1}) {
    .feed {
        padding: 24px 0;
        min-height: calc(100svh - var(--topbar-h) - 120px);

        .sonic-container {
            padding: 0 16px !important;
        }
    }

    .feed__header {
        padding: 24px !important;
        border-radius: var(--radius-lg);
        margin-bottom: 28px;
        border-width: 1.5px;

        h1 {
            font-size: 1.8rem !important;
            margin-bottom: 20px !important;
            text-align: center;
            letter-spacing: 1px;

            &::after {
                bottom: -8px;
                height: 2px;
            }
        }
    }

    // BIG SEARCH BAR with improved styling
    .feed__filters {
        display: flex;
        flex-direction: column;
        gap: 16px !important;
        margin-bottom: 24px !important;
        position: relative;

        // Search bar label
        &::before {
            content: 'SEARCH';
            display: block;
            color: rgba($primary-blue, 0.9);
            font-family: 'Orbitron', sans-serif;
            font-size: 12px;
            font-weight: 700;
            letter-spacing: 2px;
            text-transform: uppercase;
            margin-bottom: 8px;
            text-align: center;
            text-shadow: 0 0 10px rgba($primary-blue, 0.4);
        }

        // MAIN SEARCH INPUT - DOMINANT SIZE
        input[type="text"] {
            width: 100% !important;
            min-width: 100% !important;
            height: 76px !important; // Big but not overwhelming
            padding: 0 28px !important;
            font-size: 18px !important;
            border-radius: var(--radius-xl) !important;
            border: 2.5px solid rgba($primary-blue, 0.5) !important;
            background: rgba(15, 20, 35, 0.98) !important;
            color: $text-primary;
            font-family: 'Exo 2', sans-serif;
            font-weight: 500 !important;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            line-height: 1.5;
            box-shadow:
                inset 0 3px 12px rgba(0, 0, 0, 0.4),
                0 6px 24px rgba(0, 0, 0, 0.3) !important;
            backdrop-filter: blur(15px) !important;
            -webkit-backdrop-filter: blur(15px) !important;
            margin-bottom: 4px !important;

            &::placeholder {
                color: rgba(255, 255, 255, 0.6) !important;
                font-size: 16px !important;
                font-weight: 400;
                letter-spacing: 0.5px;
            }

            &:focus {
                outline: none;
                border-color: $primary-blue !important;
                box-shadow:
                    0 0 0 5px rgba($primary-blue, 0.35),
                    inset 0 3px 12px rgba(0, 0, 0, 0.5),
                    0 10px 40px rgba($primary-blue, 0.3) !important;
                background: rgba(20, 25, 45, 0.99) !important;
                transform: translateY(-3px);
            }

            &:hover:not(:focus) {
                border-color: rgba($primary-blue, 0.7) !important;
                background: rgba(20, 25, 40, 0.99) !important;
            }

            // Enhanced search icon
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgba(0, 224, 255, 0.8)' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='11' cy='11' r='8'%3E%3C/circle%3E%3Cline x1='21' y1='21' x2='16.65' y2='16.65'%3E%3C/line%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 24px center;
            background-size: 24px;
            padding-right: 60px !important;
        }

        // SMALLER FILTER BUTTONS (Featured and Clear)
        .feed__filter-buttons {
            display: flex;
            gap: 12px !important;
            width: 100%;
            margin-top: 4px;

            // Section label for filters
            position: relative;
            padding-top: 24px;

            &::before {
                content: 'FILTERS';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                color: rgba($primary-purple, 0.9);
                font-family: 'Orbitron', sans-serif;
                font-size: 11px;
                font-weight: 700;
                letter-spacing: 1.5px;
                text-transform: uppercase;
                text-align: center;
                text-shadow: 0 0 8px rgba($primary-purple, 0.3);
            }

            // Featured button (OFF) - COMPACT
            button:nth-child(1) {
                @include cosmic-ghost;
                flex: 1;
                height: 46px !important;
                padding: 0 18px !important;
                font-size: 14px !important;
                border-radius: var(--radius-lg) !important;
                font-weight: 600;
                margin: 0 !important;
                border: 1.5px solid rgba($primary-purple, 0.4) !important;
                background: rgba($primary-purple, 0.12) !important;
                backdrop-filter: blur(8px);
                -webkit-backdrop-filter: blur(8px);

                // Featured indicator with badge
                position: relative;
                overflow: visible;

                &::after {
                    content: 'OFF';
                    position: absolute;
                    top: -8px;
                    right: -8px;
                    background: linear-gradient(135deg, #f43f5e, #ec4899);
                    color: white;
                    font-size: 10px;
                    font-weight: 800;
                    padding: 2px 8px;
                    border-radius: 10px;
                    border: 2px solid rgba(255, 255, 255, 0.9);
                    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
                    z-index: 2;
                }

                &.active::after {
                    content: 'ON';
                    background: linear-gradient(135deg, #10b981, #06b6d4);
                }

                &::before {
                    height: 2px;
                    background: linear-gradient(90deg,
                            rgba($primary-purple, 0.8),
                            rgba($accent-purple, 0.8));
                    opacity: 0.8;
                }

                &:hover {
                    background: rgba($primary-purple, 0.2) !important;
                    border-color: rgba($primary-purple, 0.7) !important;
                    transform: translateY(-2px) scale(1.02) !important;
                }

                &:active {
                    transform: scale(0.98) !important;
                }
            }

            // Clear button - COMPACT
            button:nth-child(2) {
                @include cosmic-solid;
                flex: 1;
                height: 46px !important;
                padding: 0 18px !important;
                font-size: 14px !important;
                border-radius: var(--radius-lg) !important;
                font-weight: 600;
                margin: 0 !important;
                border: none !important;
                background: $gradient-secondary !important;
                box-shadow:
                    0 4px 15px rgba(59, 130, 246, 0.35),
                    inset 0 1px 0 rgba(255, 255, 255, 0.4) !important;

                &:hover {
                    background: linear-gradient(135deg,
                            lighten($accent-blue, 5%) 0%,
                            lighten($accent-purple, 5%) 100%) !important;
                    box-shadow:
                        0 6px 20px rgba(59, 130, 246, 0.45),
                        inset 0 1px 0 rgba(255, 255, 255, 0.5) !important;
                    transform: translateY(-2px) scale(1.02) !important;
                }

                &:active {
                    transform: scale(0.98) !important;
                }
            }
        }
    }

    // TYPE FILTERS - Compact grid with better spacing
    .feed__types {
        display: grid !important;
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 12px !important;
        margin-bottom: 24px !important;
        position: relative;
        padding-top: 24px;

        &::before {
            content: 'CATEGORIES';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            color: rgba($primary-blue, 0.9);
            font-family: 'Orbitron', sans-serif;
            font-size: 11px;
            font-weight: 700;
            letter-spacing: 1.5px;
            text-transform: uppercase;
            text-align: center;
            text-shadow: 0 0 8px rgba($primary-blue, 0.3);
        }

        button {
            width: 100% !important;
            height: 52px !important;
            padding: 0 16px !important;
            font-size: 14px !important;
            border-radius: var(--radius-lg) !important;
            margin: 0 !important;
            border-width: 1.5px !important;
            font-weight: 500 !important;
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);

            // Specific styling for filter types
            &:first-child {
                grid-column: 1 / -1 !important;
                height: 56px !important;
                font-size: 15px !important;
                font-weight: 700 !important;
                background: linear-gradient(135deg,
                        rgba($primary-blue, 0.2) 0%,
                        rgba($accent-purple, 0.2) 100%) !important;
                border: 2px solid rgba($primary-blue, 0.4) !important;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }

            &:nth-child(2) {
                // Experience
                background: rgba(40, 45, 65, 0.9) !important;
                border-color: rgba(255, 255, 255, 0.2) !important;
            }

            &:nth-child(3) {
                // ModelGuide
                background: rgba(40, 45, 65, 0.9) !important;
                border-color: rgba(255, 255, 255, 0.2) !important;
            }

            &:nth-child(4) {
                // News
                background: rgba(40, 45, 65, 0.9) !important;
                border-color: rgba(255, 255, 255, 0.2) !important;
            }

            &:nth-child(5) {
                // Add tag
                background: linear-gradient(135deg,
                        rgba($primary-purple, 0.15) 0%,
                        rgba($accent-purple, 0.15) 100%) !important;
                border-color: rgba($primary-purple, 0.4) !important;
                color: $text-primary !important;
                font-weight: 600 !important;

                &::after {
                    content: '+';
                    margin-left: 8px;
                    font-size: 18px;
                    font-weight: 700;
                }
            }

            &:nth-child(6) {
                // Idea
                background: rgba(40, 45, 65, 0.9) !important;
                border-color: rgba(255, 255, 255, 0.2) !important;
            }

            &:nth-child(7) {
                // Course
                background: rgba(40, 45, 65, 0.9) !important;
                border-color: rgba(255, 255, 255, 0.2) !important;
            }

            &:nth-child(8) {
                // Campaign
                background: rgba(40, 45, 65, 0.9) !important;
                border-color: rgba(255, 255, 255, 0.2) !important;
            }
        }
    }

    // TAGS SECTION - Compact
    .feed__tags {
        flex-direction: column !important;
        gap: 16px !important;
        margin-bottom: 24px !important;
        position: relative;
        padding-top: 24px;

        &::before {
            content: 'TAGS';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            color: rgba($primary-purple, 0.9);
            font-family: 'Orbitron', sans-serif;
            font-size: 11px;
            font-weight: 700;
            letter-spacing: 1.5px;
            text-transform: uppercase;
            text-align: center;
            text-shadow: 0 0 8px rgba($primary-purple, 0.3);
        }

        >div:first-child {
            display: flex !important;
            gap: 12px !important;
            width: 100% !important;
            margin-top: 8px;

            input[type="text"] {
                flex: 1 !important;
                width: 100% !important;
                height: 50px !important;
                padding: 0 18px !important;
                font-size: 15px !important;
                border-radius: var(--radius-lg) !important;
                border: 1.5px solid rgba($primary-purple, 0.4) !important;
                background: rgba(25, 30, 45, 0.95) !important;
                box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.3) !important;
                backdrop-filter: blur(8px);
                -webkit-backdrop-filter: blur(8px);

                &:focus {
                    border-color: rgba($primary-purple, 0.7) !important;
                    box-shadow:
                        0 0 0 4px rgba($primary-purple, 0.15),
                        inset 0 2px 8px rgba(0, 0, 0, 0.4) !important;
                }
            }

            >button {
                @include cosmic-solid;
                height: 50px !important;
                padding: 0 20px !important;
                font-size: 14px !important;
                min-width: 80px !important;
                border-radius: var(--radius-lg) !important;
                font-weight: 600;
            }
        }

        .feed__taglist {
            margin-left: 0 !important;
            margin-top: 12px !important;
            justify-content: flex-start !important;
            gap: 8px !important;

            button {
                height: 42px !important;
                padding: 0 16px !important;
                font-size: 13px !important;
                border-radius: var(--radius-lg) !important;
                border-width: 1.5px !important;
                background: linear-gradient(135deg,
                        rgba($primary-blue, 0.1) 0%,
                        rgba($primary-purple, 0.1) 100%) !important;
                backdrop-filter: blur(6px);
                -webkit-backdrop-filter: blur(6px);
            }
        }
    }

    // POSTS LIST - Single column on mobile
    .feed__list {
        grid-template-columns: 1fr !important;
        gap: 20px !important;
        margin-bottom: 32px !important;
    }

    .post {
        padding: 24px !important;
        border-radius: var(--radius-lg) !important;
        border-width: 1.5px !important;
        margin-bottom: 4px;

        h3 {
            font-size: 1.5rem !important;
            margin-bottom: 16px !important;

            a {
                font-size: 1.5rem !important;
                line-height: 1.5 !important;
            }
        }

        .post__meta {
            font-size: 13px !important;
            margin-bottom: 18px !important;
        }

        .post__body {
            font-size: 15px !important;
            line-height: 1.7 !important;
        }

        .post__tags {
            margin-bottom: 18px !important;
            gap: 8px !important;

            span {
                padding: 6px 12px !important;
                font-size: 13px !important;
                border-width: 1.5px !important;
            }
        }

        .post__stats {
            gap: 20px !important;
            margin-top: 8px !important;

            .post__stat-item {
                font-size: 14px !important;
                gap: 6px !important;

                &::before {
                    font-size: 18px !important;
                }
            }
        }

        &:hover {
            transform: translateY(-3px) !important;
        }
    }

    // Load more button - Proportional
    .feed__list+button {
        width: 100% !important;
        height: 58px !important;
        font-size: 16px !important;
        margin: 28px auto !important;
        border-radius: var(--radius-lg) !important;
        font-weight: 600 !important;
    }
}

// ===========================================
// TABLET VIEW - Enhanced
// ===========================================
@media (min-width: $mobile) and (max-width: #{$tablet - 1}) {
    .feed__header {
        padding: 28px !important;
    }

    .feed__filters {
        input[type="text"] {
            min-width: 280px !important;
            height: 58px !important;
            font-size: 15px !important;
        }

        button {
            height: 58px !important;
        }
    }

    .feed__list {
        grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)) !important;
        gap: 24px !important;
    }

    .post {
        padding: 28px !important;

        h3 {
            font-size: 1.45rem !important;
        }
    }
}

// ===========================================
// SMALL DESKTOP
// ===========================================
@media (min-width: $tablet) and (max-width: 1350px) {
    .feed__list {
        grid-template-columns: repeat(auto-fill, minmax(340px, 1fr)) !important;
        gap: 28px !important;
    }

    .post {
        h3 {
            font-size: 1.5rem !important;
        }
    }
}

// ===========================================
// ACCESSIBILITY - Enhanced
// ===========================================
@media (hover: none) and (pointer: coarse) {
    .post {
        &:hover {
            transform: translateY(-2px) !important;
            box-shadow:
                var(--shadow),
                0 0 30px rgba($primary-blue, 0.1);
        }

        h3 a {
            padding: 4px 0;
            min-height: 44px;
            display: flex;
            align-items: center;
        }
    }

    button,
    .feed__taglist button {
        &:hover {
            transform: scale(1.02) !important;
        }

        // Larger touch targets
        min-height: 44px;
        min-width: 44px;
    }
}

// Enhanced focus states with animations
button:focus-visible,
input:focus-visible,
.post h3 a:focus-visible {
    outline: 3px solid rgba($primary-blue, 0.8);
    outline-offset: 4px;
    border-radius: 6px;
    position: relative;
    z-index: 10;
    animation: focus-pulse 1.5s infinite;
}

@keyframes focus-pulse {

    0%,
    100% {
        outline-color: rgba($primary-blue, 0.8);
        outline-offset: 4px;
    }

    50% {
        outline-color: rgba($primary-blue, 0.5);
        outline-offset: 3px;
    }
}

// Reduced motion
@media (prefers-reduced-motion: reduce) {

    .feed,
    .post,
    button,
    input {
        transition: none !important;
    }

    .post:hover {
        transform: none !important;
    }

    .feed__list+button::after {
        transition: none !important;
    }

    @keyframes none {

        0%,
        100% {
            opacity: 1;
        }
    }
}

// ===========================================
// FIXES FOR SPECIFIC ISSUES - Enhanced
// ===========================================

// Ensure search input has proper iOS font size
input[type="text"] {
    @media (max-width: $mobile) {
        font-size: 16px !important;
        line-height: 1.6 !important;
    }
}

// Make sure buttons are touch-friendly on mobile
button {
    @media (max-width: $mobile) {
        min-height: 44px !important;
        min-width: 44px !important;
        padding: 0 16px !important;
    }
}

// Post title hover enhancement for desktop - Enhanced with more details
@media (min-width: $mobile) {
    .post h3 a {
        position: relative;

        &:hover {
            &::before {
                content: '';
                position: absolute;
                bottom: -4px;
                left: 0;
                width: 100%;
                height: 2px;
                background: $gradient-primary;
                animation: underline-glow 0.4s cubic-bezier(0.4, 0, 0.2, 1);
                border-radius: 1px;
                box-shadow: 0 0 15px rgba($primary-blue, 0.5);
            }
        }
    }

    @keyframes underline-glow {
        from {
            width: 0;
            opacity: 0;
            left: 50%;
        }

        to {
            width: 100%;
            opacity: 1;
            left: 0;
        }
    }
}

// ===========================================
// ADDITIONAL DETAIL ENHANCEMENTS
// ===========================================

// Card hover effect improvement with 3D perspective
.post {
    transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1),
        box-shadow 0.4s cubic-bezier(0.4, 0, 0.2, 1),
        border-color 0.3s ease;

    &:hover {
        transition-duration: 0.3s;

        // Subtle 3D tilt effect
        transform: translateY(-6px) rotateX(1deg) rotateY(-0.5deg) scale(1.01);
    }
}

// Better text contrast throughout with improved shadows
.post__meta,
.post__stats,
.feed__error p {
    color: $text-secondary !important;
    text-shadow: 0 1px 4px rgba(0, 0, 0, 0.5);
}

// Improved placeholder contrast with gradient
::placeholder {
    color: $text-placeholder !important;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.3));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

// Better button contrast states with depth
button {
    &:active {
        transform: translateY(1px) scale(0.98) !important;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2) !important;
        transition-duration: 0.1s;
    }
}

// Ensure proper spacing for content with micro-interactions
.post__body {
    margin-bottom: 22px !important;
    position: relative;

    // Fade effect at the bottom for long content
    &::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        height: 30px;
        background: linear-gradient(transparent, rgba(35, 40, 55, 0.3));
        pointer-events: none;
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    &:hover::after {
        opacity: 1;
    }
}

// Tag hover improvements with physics
.feed__taglist button,
.post__tags span {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

    &:hover {
        transform: translateY(-3px) scale(1.05);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.25);
    }

    &:active {
        transform: translateY(0) scale(0.95);
    }
}

// ===========================================
// PARTICLE EFFECTS FOR COSMIC THEME
// ===========================================
.feed::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image:
        radial-gradient(1px 1px at 20% 30%, rgba($primary-blue, 0.3) 1px, transparent 0),
        radial-gradient(1px 1px at 40% 70%, rgba($primary-purple, 0.3) 1px, transparent 0),
        radial-gradient(1px 1px at 60% 20%, rgba($accent-blue, 0.3) 1px, transparent 0),
        radial-gradient(1px 1px at 80% 50%, rgba($accent-purple, 0.3) 1px, transparent 0);
    background-size: 300px 300px;
    background-position: 0 0;
    pointer-events: none;
    z-index: -1;
    opacity: 0.4;
    animation: particles-float 60s linear infinite;
}

@keyframes particles-float {
    0% {
        background-position: 0 0;
    }

    100% {
        background-position: 300px 300px;
    }
}

// ===========================================
// ENHANCED LOADING STATES
// ===========================================
.feed__loading {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 60px 0;

    .loading-spinner {
        width: 60px;
        height: 60px;
        border: 3px solid rgba($primary-blue, 0.1);
        border-radius: 50%;
        border-top-color: $primary-blue;
        animation: spinner-rotate 1s linear infinite;
        margin-bottom: 20px;
        box-shadow: 0 0 20px rgba($primary-blue, 0.3);
    }

    p {
        color: $text-secondary;
        font-family: 'Exo 2', sans-serif;
        font-size: 16px;
        font-weight: 500;
        letter-spacing: 1px;
        text-shadow: 0 0 10px rgba($primary-blue, 0.3);
    }
}

@keyframes spinner-rotate {
    0% {
        transform: rotate(0deg);
        border-top-color: $primary-blue;
    }

    50% {
        border-top-color: $primary-purple;
    }

    100% {
        transform: rotate(360deg);
        border-top-color: $primary-blue;
    }
}

// ===========================================
// FINAL POLISHES
// ===========================================

// Subtle scrollbar styling
.feed::-webkit-scrollbar {
    width: 8px;
}

.feed::-webkit-scrollbar-track {
    background: rgba(15, 20, 35, 0.2);
    border-radius: 4px;
}

.feed::-webkit-scrollbar-thumb {
    background: linear-gradient(135deg, $primary-blue, $primary-purple);
    border-radius: 4px;
    border: 2px solid rgba(15, 20, 35, 0.2);
}

.feed::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(135deg, lighten($primary-blue, 10%), lighten($primary-purple, 10%));
}

// Selection color
::selection {
    background: rgba($primary-blue, 0.3);
    color: $text-primary;
}

::-moz-selection {
    background: rgba($primary-blue, 0.3);
    color: $text-primary;
}

// Print styles
@media print {

    .feed__filters,
    .feed__types,
    .feed__tags,
    .feed__list+button {
        display: none !important;
    }

    .post {
        break-inside: avoid;
        border: 1px solid #ddd;
        box-shadow: none !important;
    }
}